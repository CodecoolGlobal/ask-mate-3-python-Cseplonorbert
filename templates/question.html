<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
    <title>Display question</title>
</head>
<body class="bg-secondary text-white">
    <div class="container-fluid p-5 text-white text-center" style="
    background-image:  url('../../static/images/bckgd.jpg');
    height: 30vh; ">
      <h1>Ask mate</h1>
      </div>
    <div class="row border-bottom-0 border border-dark border-3">
    <div class="col-sm-12 bg-primary text-white text-center">
       <h1>Question:</h1>
    </div>
    <div class="row ">
        <div class="col-sm-2 bg-light ">
    
        </div>
        <div class="col-sm-2">
            Question title:
        </div>
        <div class="col-sm-6">
            {{ question['title'] }}
        </div>
        <div class="col-sm-2 bg-light">
        
        </div>
    </div>
    <div class="row ">
        <div class="col-sm-2 bg-light ">
    
        </div>
        <div class="col-sm-2">
        </div>
        <div class="col-sm-6">
            <br>
        </div>
        <div class="col-sm-2 bg-light">
        
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2 bg-light">
    
        </div>
        <div class="col-sm-2">
            Question:
        </div>
        <div class="col-sm-6">
            {{ question['message'] }}
        </div>
        <div class="col-sm-2 bg-light">

        </div>
    </div>

    <div class="row">
        <div class="col-sm-2 bg-light">
    
        </div>
        <div class="col-sm-2 border-bottom border-3 border-dark">
            Question image:
        </div>
        <div class="col-sm-6 border-3 border-dark border-bottom ">
            <img src="{{ url_for('static', filename=question['image']) }}" alt="{{ question['image'] }}" style="width: 150px">
        </div>
        <div class="col-sm-2 bg-light">

        </div>
    </div>
    
    <div class="row ">
        <div class="col-sm-2 bg-light ">
    
        </div>
        <div class="col-sm-2">
        </div>
        <div class="col-sm-6">
            <br>
        </div>
        <div class="col-sm-2 bg-light">
        
        </div>
    </div>

    <div class="row">
        <div class="col-sm-2 bg-light">
    
        </div>
        <div class="col-sm-2">
            <form class="float-start" action='{{ url_for("question_vote_down", question_id=question["id"]) }}' method = 'GET' >
                <button type="submit"> vote down </button>
            </form>
        </div>
        <div class="col-sm-4 text-center">
            <p> Question vote number: {{ question['vote_number'] }} </p>
        </div>
        <div class="col-sm-2">
            <form class="float-end" action='{{ url_for("question_vote_up", question_id=question["id"]) }}' method = 'GET' >
                <button type="submit"> vote up </button>
            </form>
        </div>
        <div class="col-sm-2 bg-light">

        </div>
    </div>
    
    <div class="row">
        <div class="col-sm-2 bg-light">
    
        </div>
        <div class="col-sm-2">
            <a class="link-dark" href="/list">Back to the homepage</a>
        </div>
        <div class="col-sm-4 text-center">
            <a class="link-dark" href="{{ url_for('delete_question', question_id=question['id']) }}">DELETE THIS QUESTION</a>
        </div>
        <div class="col-sm-2">
            <a class="link-dark float-end" href="{{ url_for('edit_question', question_id=question['id']) }}">Edit question</a>
        </div>
        <div class="col-sm-2 bg-light">

        </div>
    </div>

    <div class="row ">
        <div class="col-sm-2 bg-light ">
    
        </div>
        <div class="col-sm-8 text-center">
            <h2>Answers:</h2>
        </div>
        <div class="col-sm-2 bg-light">
        
        </div>
    </div>
    
    <div class="row">
        <div class="col-sm-2 bg-light">
        
        </div>
        <div class="col-sm-2 text-white text-center">
            Submission Time
        </div>
        <div class="col-sm-4 text-center">
            Message
        </div>
        <div class="col-sm-2 text-center text-white">
            Image
        </div>
        <div class="col-sm-2 bg-light">
          
        </div>
      </div> 
      
      {% for answer in answers %}
        <div class="row">
            <div class="col-sm-2 bg-light">
            
            </div>
            <div class="col-sm-2 text-white text-center">
                {{ answer['submission_time'] }}
            </div>
            <div class="col-sm-4 text-center">
                {{ answer['message']}}
            </div>
            <div class="col-sm-2 text-center text-white">
                <img src="{{ url_for('static', filename=answer['image']) }}" alt="{{ answer['image'] }}" style='width: 150px'>  
            </div>
            <div class="col-sm-2 bg-light">
            
            </div>
        </div> 
        <div class="row">
            <div class="col-sm-2 bg-light">
        
            </div>
            <div class="col-sm-2">
                <form class="float-start" action='{{ url_for("answer_vote_down", answer_id=answer["id"]) }}' method = 'GET' >
                    <button type="submit"> vote down </button>
                </form>
            </div>
            <div class="col-sm-4 text-center">
                <p> Answer vote number: {{ answer['vote_number'] }} </p>
            </div>
            <div class="col-sm-2">
                <form class="float-end" action='{{ url_for("answer_vote_up", answer_id=answer["id"]) }}' method = 'GET' >
                    <button type="submit"> vote up </button>
                </form>
            </div>
            <div class="col-sm-2 bg-light">
    
            </div>
        </div>

        <div class="row ">
            <div class="col-sm-2 bg-light">
        
            </div>
       
            <div class="col-sm-8 text-center border-bottom border-3 border-dark">
                <a class="link-dark" href="{{ url_for('delete_answer', answer_id=answer['id']) }}" method="GET">Delete answer</a>
            </div>
        
            <div class="col-sm-2 bg-light">
    
            </div>
        </div>


      {% endfor %}

    <div class="row ">
        <div class="col-sm-2 bg-light ">
    
        </div>
        <div class="col-sm-8">
            <form class="text-center" action='{{ url_for("add_new_answer", question_id=question["id"]) }}' method='POST' enctype='multipart/form-data'>
        
                <label for='message-input' > Add new answer: </label><br>
                <textarea name='message' id='message-input' cols='30' rows='6' >  </textarea><br>
                <br>
                <div class="custom-file">
                    <label for="file">Upload image</label><br>
                    <input type="file" name="image" class="form-control"><br>
                    <br>
                </div>
        
                <button tpye='submit' > Add new answer </button>
            </form>
        </div>
        <div class="col-sm-2 bg-light">
        
        </div>
    </div>
        
</body>


</html>