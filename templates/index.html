{% extends "layout.html" %}

{% block page_title %}
    Main page
{% endblock %}


{% block content %}

    <a href="/add_question">Add new question</a><br>
    <br>

    <table width="100%">
        <th width="20px">ID</th>
        <th width="120px">Submission Time <a href="/list?order_by=submission_time&order=ascend">Sort Ascend</a> <a href="/list?order_by=submission_time&order=desc">Sort Descend</a></th>
        <th width="100px">View number <a href="/list?order_by=view_number&order=ascend">Sort Ascend</a> <a href="/list?order_by=view_number&order=desc">Sort Descend</a></th>
        <th width="100px">Vote number <a href="/list?order_by=vote_number&order=ascend">Sort Ascend</a> <a href="/list?order_by=vote_number&order=desc">Sort Descend</a></th>
        <th width="10%">Title <a href="/list?order_by=title&order=ascend">Sort Ascend</a> <a href="/list?order_by=title&order=desc">Sort Descend</a></th>
        <th>Message <a href="/list?order_by=message&order=ascend">Sort Ascend</a> <a href="/list?order_by=message&order=desc">Sort Descend</a></th>
        <th>Image</th>

        {% for question in questions %}
            <tr>
                {% for key, value in question.items() %}
                    <td>
                        {% if key == "title" %}
                            <a href="{{ url_for("display_question", question_id=question["id"]) }}">{{ value }}</a>
                        {% elif key == "image" %}
                            {% if value %}
                                <img src="{{ url_for('static', filename=value) }}" alt="{{ value }}" style="width: 150px">
                            {% endif %}
                        {% else %}
                            {{ value }}
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>

{% endblock %}